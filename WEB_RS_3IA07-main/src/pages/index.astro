---
import Main from "../component/main.astro";
import SectionTitle from "../component/sectionTitle.astro";
import mongodbRS from "../lib/core/mongodb";
import Search from "../component/search.astro";

const galery = ["gallery-1.jpg", "gallery-2.jpg", "gallery-3.jpg", "gallery-4.jpg", "gallery-5.jpg", "gallery-6.jpg", "gallery-7.jpg", "gallery-8.jpg"];

const db = new mongodbRS().db_collection("rs_metadata");
const metadata: { spesialist: [{ code: string; name: string }]; name: string; phone: string; mail: string } = {
  name: await db.readMetadata("name"),
  phone: await db.readMetadata("phone"),
  mail: await db.readMetadata("mail"),
  spesialist: await db.readMetadata("spesialist"),
};
---

<Main endpoint="HOME">
  <section id="hero" class="bg-[url('/img/hero-bg.jpg')] bg-cover bg-center !pb-0">
    <div class="w-full py-12 bg-white/40 backdrop-blur-sm">
      <div class="flex flex-wrap justify-center">
        <p class="w-full font-bold text-4xl px-12 text-primary text-center pb-2">Selamat Datang di Rumah Sakit Sentosa</p>
        <p class="w-full font-semibold text-lg text-center">Kesehatan Anda Adalah Prioritas Kami</p>
        <div class="w-full pt-6">
          <Search search="Cari Janji Temu" type="searchNoReg" label="Nomor Registrasi" name="noreg" action="/portal" />
        </div>
      </div>
    </div>
  </section>

  <section id="about" class="pt-12 lg:pt-16 flex justify-center">
    <div class="container">
      <div class="flex flex-wrap px-6">
        <SectionTitle title="Tentang Kami" />
        <div class="w-full pt-4 flex flex-wrap md:flex-row align-middle items-center justify-center">
          <img src="/img/about.jpg" alt="about" class="w-lg rounded-xl p-4" loading="lazy" is:raw />
          <div class="w-full max-w-lg">
            <p class="font-light py-2">
              Rumah Sakit Sentosa adalah institusi pelayanan kesehatan yang berdedikasi untuk memberikan perawatan medis berkualitas tinggi kepada masyarakat. Dengan tim medis yang berpengalaman dan fasilitas modern, kami berkomitmen untuk menjaga
              kesehatan dan kesejahteraan pasien kami.
            </p>
            <p class="font-light py-2">
              Memberikan pelayanan kesehatan yang komprehensif dan berpusat pada pasien dengan standar kualitas tertinggi. Mendorong inovasi dan penelitian untuk meningkatkan hasil klinis dan pengalaman pasien. Membangun kemitraan yang kuat dengan
              komunitas untuk mempromosikan gaya hidup sehat dan pencegahan penyakit. Mengembangkan sumber daya manusia yang kompeten dan berdedikasi dalam bidang kesehatan.
            </p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section id="layanan" class="pt-12 lg:pt-16 flex justify-center">
    <div class="container">
      <div class="flex flex-wrap px-12">
        <SectionTitle title="Layanan Kami" />
        <div class="w-full grid grid-cols-1 grid-rows-3 lg:grid-cols-3 lg:grid-rows-1 gap-4 pt-4">
          <div class="group border border-primary rounded-2xl hover:shadow-xl transition ease-in-out duration-300 hover:bg-primary hover:border-white">
            <div class="p-4 min-h-40 flex flex-col justify-center">
              <p class="bi-heart-pulse text-center text-4xl group-hover:text-white transition ease-in-out duration-200"></p>
              <p class="text-lg font-bold text-center pt-2 pb-4 group-hover:text-white transition ease-in-out duration-200">Perawatan Unggul</p>
              <p class="group-hover:text-white transition ease-in-out duration-200 text-center">Menyediakan layanan medis berkualitas tinggi dengan fokus pada perawatan pasien yang holistik dan berpusat pada kebutuhan individu.</p>
            </div>
          </div>
          <div class="group border border-primary rounded-2xl hover:shadow-xl transition ease-in-out duration-300 hover:bg-primary hover:border-white">
            <div class="p-4 min-h-40 flex flex-col justify-center">
              <p class="bi-activity text-center text-4xl group-hover:text-white transition ease-in-out duration-200"></p>
              <p class="text-lg font-bold text-center pt-2 pb-4 group-hover:text-white transition ease-in-out duration-200">Laboratorium Modern</p>
              <p class="group-hover:text-white transition ease-in-out duration-200 text-center">Fasilitas laboratorium modern dengan teknologi canggih untuk mendukung diagnosis akurat dan perawatan efektif bagi pasien.</p>
            </div>
          </div>
          <div class="group border border-primary rounded-2xl hover:shadow-xl transition ease-in-out duration-300 hover:bg-primary hover:border-white">
            <div class="p-4 min-h-40 flex flex-col justify-center">
              <p class="bi-person-wheelchair text-center text-4xl group-hover:text-white transition ease-in-out duration-200"></p>
              <p class="text-lg font-bold text-center pt-2 pb-4 group-hover:text-white transition ease-in-out duration-200">Fasilitas Ramah Pasien</p>
              <p class="group-hover:text-white transition ease-in-out duration-200 text-center">Fasilitas medis yang dirancang untuk kenyamanan dan kemudahan akses pasien, termasuk ruang tunggu yang nyaman dan layanan pendukung lainnya.</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section id="galery" class="pt-12 lg:pt-16 w-full">
    <div class="container">
      <div class="flex flex-wrap px-6">
        <SectionTitle title="Galeri Kami" />
        <div class="w-full flex flex-wrap justify-center">
          {
            galery.map((i) => (
              <div class="block max-w-xs m-4 border border-gray-300 rounded-xl hover:shadow-lg hover:border-gray-600 hover:border-2 transition ease-in-out duration-200">
                <img src={`/img/gallery/${i}`} alt={i} class="rounded-xl" loading="lazy" />
              </div>
            ))
          }
        </div>
      </div>
    </div>
  </section>

  <section id="janji-temu" class="pt-12 lg:pt-16 flex justify-center bg-background2">
    <div class="container">
      <div class="flex flex-wrap justify-center">
        <SectionTitle title="Janji Temu" />
        <div class="w-full flex justify-center px-6 pt-5">
          <div class="form_card">
            <form action="/portal" class="form" method="POST">
              <div class="">
                <label for="name" class="block mb-2 text-sm font-medium">Nama</label>
                <input type="text" name="name" id="name" class="form_input" required />
              </div>
              <div class="">
                <label for="email" class="block mb-2 text-sm font-medium">Email</label>
                <input type="email" name="email" id="email" class="form_input" required />
              </div>
              <div class="">
                <label for="phone" class="block mb-2 text-sm font-medium">Nomor HP</label>
                <input type="tel" name="phone" id="phone" class="form_input" required />
              </div>
              <div class="">
                <label for="date" class="block mb-2 text-sm font-medium">Tanggal Temu</label>
                <input type="date" name="date" id="date" class="form_input" required />
              </div>
              <div class="">
                <label for="spesialist" class="block mb-2 text-sm font-medium">Pilih Spesialis</label>
                <select name="spesialist" id="spesialist" class="form_input" required>
                  <option selected>Pilih Spesialis</option>
                  {metadata.spesialist.map((i) => <option value={i.name}>{i.name}</option>)}
                </select>
              </div>
              <input type="text" id="type" name="type" class="invisible p-0 h-0" value="janjiTemu" />
              <div class="flex justify-center">
                <button type="submit" class="cursor-pointer text-white bg-primary rounded-lg w-auto px-5 py-2 text-center">Selanjutnya, Pilih Dokter</button>
              </div>
            </form>
          </div>
          <div class="w-xl ps-12 pb-12 justify-center items-center hidden xl:flex">
            <img src="/img/formPic.jpg" alt="Doc Pic" class="h-full rounded-2xl" loading="lazy" />
          </div>
        </div>
      </div>
    </div>
  </section>

  <section id="kontak" class="pt-12 lg:pt-16 flex justify-center bg-background2">
    <div class="container">
      <div class="flex flex-wrap px-6 lg:px-16 justify-center">
        <SectionTitle title="Kontak Kami" />
        <p class="pb-12 text-center w-full">Hubungi kami untuk informasi lebih lanjut di {metadata.name}.</p>
        <div class="w-full lg:max-w-md pb-12 justify-start items-start flex flex-wrap lg:flex-col">
          <div class="flex justify-center items-center p-4">
            <div class="bi-geo-alt bg-primary rounded-full w-12 h-12 text-center text-2xl flex items-center justify-center text-white"></div>
            <div class="ps-2">
              <p class="font-semibold text-lg">Lokasi</p>
              <p>Depok, Jawa Barat</p>
            </div>
          </div>
          <div class="flex justify-center items-center p-4">
            <div class="bi-telephone bg-primary rounded-full w-12 h-12 text-center text-2xl flex items-center justify-center text-white"></div>
            <div class="ps-2">
              <p class="font-semibold text-lg">Kontak</p>
              <p>{metadata.phone}</p>
            </div>
          </div>
          <div class="flex justify-center items-center p-4">
            <div class="bi-envelope bg-primary rounded-full w-12 h-12 text-center text-2xl flex items-center justify-center text-white"></div>
            <div class="ps-2">
              <p class="font-semibold text-lg">Email</p>
              <p>{metadata.mail}</p>
            </div>
          </div>
        </div>
        <div class="w-full lg:max-w-4xl p-8 mb-12 shadow-sm hover:shadow-lg focus-within:shadow-lg rounded-3xl border border-gray-200 bg-white transition ease-in-out duration-200">
          <form action="/portal" class="grid gap-6 mb-2 md:grid-cols-1" method="POST">
            <div class="grid gap-4 md:grid-cols-2">
              <div class="">
                <label for="name" class="block mb-2 text-sm font-medium">Nama</label>
                <input type="text" name="name" id="name" class="form_input" required />
              </div>
              <div class="">
                <label for="email" class="block mb-2 text-sm font-medium">Email</label>
                <input type="email" name="email" id="email" class="form_input" required />
              </div>
            </div>
            <div class="">
              <label for="subject" class="block mb-2 text-sm font-medium">Subjek</label>
              <input type="text" name="subject" id="subject" class="form_input" required />
            </div>
            <div class="">
              <label for="message" class="block mb-2 text-sm font-medium">Pesan</label>
              <textarea name="message" id="message" class="form_input" required></textarea>
            </div>
            <input type="text" id="type" name="type" class="invisible p-0 h-0" readonly value="kontak" />
            <div class="flex justify-center">
              <button type="submit" class="cursor-pointer text-white bg-primary rounded-lg w-auto px-5 py-2 text-center">Kirim</button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </section>
</Main>
